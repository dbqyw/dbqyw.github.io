<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>qinyiwen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="qinyiwen">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="qinyiwen">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="qinyiwen" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">qinyiwen</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-《The structure of paper or report in Systems》" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/26/%E3%80%8AThe%20structure%20of%20paper%20or%20report%20in%20Systems%E3%80%8B/" class="article-date">
  <time class="dt-published" datetime="2023-07-26T15:09:39.000Z" itemprop="datePublished">2023-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/26/%E3%80%8AThe%20structure%20of%20paper%20or%20report%20in%20Systems%E3%80%8B/">《The structure of paper/report in Systems》</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="系统中纸张-x2F-报告的结构"><a href="#系统中纸张-x2F-报告的结构" class="headerlink" title="系统中纸张&#x2F;报告的结构"></a>系统中纸张&#x2F;报告的结构</h3><p><a target="_blank" rel="noopener" href="http://www.cs.ucr.edu/~michalis/TECHWRITING/structure.html">结构 (ucr.edu)</a></p>
<p>写论文时要遵循一些规则：</p>
<p>递归性1：每一部分的第一段应该是本节的摘要&#x2F;概述，可以先说“在本节中，我们将介绍…”</p>
<p>递归性2：每个段落中，第一行&#x2F;第二行应该对应于段落的摘要</p>
<p>自上而下：从高层次开始，慢慢增加细节，让读者知道我们想往哪方面扩展</p>
<h4 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h4><p>摘要主要介绍我们所做的工作，一段200-300字，用于吸引读者阅读文章</p>
<ol>
<li>本文的目标（1-2行）</li>
<li>工作的动机和重要性（1-2行）</li>
<li>我们工作的结果或贡献（1-2行）最好引用直观或易于解释的指标的数字来量化</li>
</ol>
<h4 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h4><p>提出问题，动机，重要性，主要贡献</p>
<ol>
<li>问题：高层次的定义，意义</li>
<li>以前的工作</li>
<li>我们的贡献</li>
<li>本文结构介绍</li>
</ol>
<h4 id="背景和模型"><a href="#背景和模型" class="headerlink" title="背景和模型"></a>背景和模型</h4><p>定义，场景，模型</p>
<ol>
<li>以前的工作，有助于于我们的工作进行对比，来说我们的工作是否有创新点，与以前的工作相比有什么优势</li>
<li>以前工作的弱点，或在一些方面有什么没有考虑到的东西</li>
<li>我们工作的假设和局限性（只是诚实地提出来，不要谴责我们的工作）</li>
</ol>
<h4 id="我们的想法"><a href="#我们的想法" class="headerlink" title="我们的想法"></a>我们的想法</h4><p>介绍我们的创新点</p>
<p>如果有必要，对我们所作的工作中的一些名词进行介绍，它的定义以及它是如何工作的</p>
<p>详细地介绍细节</p>
<p>对我们在这一节写的内容进行分析</p>
<h4 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h4><p>实验概述：我们了做什么，我们没做什么，为什么</p>
<p>模拟模型或测量基础设施</p>
<p>实验结果</p>
<p>使用标题（粗体） 区分实验（即尺寸对性能的影响，或者甚至更好的尺寸不会影响性能）</p>
<p>每个情节都应该出现一个明确的原因（比如说负载越大，吞吐量越差）</p>
<p>解释每个图：轴，我们看到的，趋势是什么，为什么是这样的趋势</p>
<p>统计，强化结果：置信区间、相关系数等。</p>
<p>每个数字应该是准确的：标题应该是可读的，并且可理解的。</p>
<p>评论，讨论， 解释</p>
<h4 id="讨论"><a href="#讨论" class="headerlink" title="讨论"></a>讨论</h4><p>如果我们还有想法，可以在论文中展示出来，比如说重要性，与其他作品的关系，可能的实际应用</p>
<h4 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h4><p>结论是非常重要的，我们在结论中要</p>
<ol>
<li>对所作的工作进行概述</li>
<li>主要成果和贡献</li>
<li>重要性</li>
<li>实用技巧（帮助别的研究人员使用我们做的东西，避免错误）</li>
<li>未来工作，强调工作的重要性，但是要避免给出自己的想法</li>
</ol>
<h4 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h4><p>要按照参考文献的标准，必须正确、完整、准确</p>
<h4 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h4><p>我们可以再附录写任何我们想写的东西</p>
<ol>
<li>提供额外的结果，以加强我们的论点</li>
<li>通过在这里放一个冗长的证明或讨论一个细节来保持论文的流畅性</li>
<li>解决一个问题，表明我们已经深入思考了这个问题</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/26/%E3%80%8AThe%20structure%20of%20paper%20or%20report%20in%20Systems%E3%80%8B/" data-id="clkjv5mak0000jovf5vbig1u6" data-title="《The structure of paper/report in Systems》" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BA%E6%96%87%E7%BB%86%E8%AF%BB/" rel="tag">论文细读</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Exercise 1 - Xpdf" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/25/Exercise%201%20-%20Xpdf/" class="article-date">
  <time class="dt-published" datetime="2023-07-25T15:16:57.000Z" itemprop="datePublished">2023-07-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/25/Exercise%201%20-%20Xpdf/">Exercise 1 - Xpdf</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Exercise-1-Xpdf"><a href="#Exercise-1-Xpdf" class="headerlink" title="Exercise 1 - Xpdf"></a>Exercise 1 - Xpdf</h3><h4 id="一、实验背景"><a href="#一、实验背景" class="headerlink" title="一、实验背景"></a>一、实验背景</h4><p>CVE-2019-13288是一个可能通过精心制作的文件导致无线递归的漏洞</p>
<p>程序中每个被调用的函数都在堆栈上分配一个堆栈帧，如果一个函数被递归调用多次，可能会导致堆栈内存耗尽和程序崩溃，因此，远程攻击者可以利用该漏洞进行Dos攻击</p>
<p>非受控制递归漏洞（<a target="_blank" rel="noopener" href="https://cwe.mitre.org/data/definitions/674.html%EF%BC%89">https://cwe.mitre.org/data/definitions/674.html）</a></p>
<h4 id="二、实验目的"><a href="#二、实验目的" class="headerlink" title="二、实验目的"></a>二、实验目的</h4><p>模糊<strong>Xpfd（</strong>PDF查看器），目标是在XPDF 3.02中找到<strong>CVE-2019-13288</strong>漏洞</p>
<h4 id="三、实验环境："><a href="#三、实验环境：" class="headerlink" title="三、实验环境："></a>三、实验环境：</h4><p>win10，VMware，Ubuntu 20.04.2 LTS（虚拟机用户名密码均为fuzz）</p>
<h4 id="四、实验步骤"><a href="#四、实验步骤" class="headerlink" title="四、实验步骤"></a>四、实验步骤</h4><h5 id="1、下载并构建目标"><a href="#1、下载并构建目标" class="headerlink" title="1、下载并构建目标"></a>1、下载并构建目标</h5><p>得到模糊目标，为要模糊化的项目创建目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $HOME</span><br><span class="line">mkdir fuzzing_xpdf &amp;&amp; cd fuzzing_xpdf/</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/7d81d204-27c1-44ec-9b17-ace5348c00e6" alt="image"></p>
<p>安装make和gcc，准备好环境，注意要先更新apt-get，否则会出现错误Unable to locate package build-essential</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update </span><br><span class="line">sudo apt install build-essential</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/f47a0423-6e7d-4303-9ce6-e1ba26d1edcc" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/fcdbebff-a669-4cbc-9ba0-ab46c7ed8241" alt="image"></p>
<p>下载Xpdf 3.02压缩包并解压</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.xpdfreader.com/old/xpdf-3.02.tar.gz</span><br><span class="line">tar -xvzf xpdf-3.02.tar.gz</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/89111ae7-2c4a-4a5c-98ab-b3263a62bb68" alt="image"></p>
<p>构建Xpdf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd xpdf-3.02</span><br><span class="line">sudo apt update &amp;&amp; sudo apt install -y build-essential gcc</span><br><span class="line">./configure --prefix=&quot;$HOME/fuzzing_xpdf/install/&quot;</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/2ec9e65a-cb06-4ca7-baf2-5901cf0c6efd" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/bab69f98-5826-4746-a060-2c41c43c82c6" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/e0fca536-8a93-4388-9c34-99914112154a" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/cd03c3cc-3282-4b32-92e9-285b9b67bd8d" alt="image"></p>
<p>下载一些PDF示例用于后续验证</p>
<p>下载pdf时注意在后面加参数<strong>–no-check-certificate</strong>跳过验证证书，否则会报错unable to establish ssl connection.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd $HOME/fuzzing_xpdf</span><br><span class="line">mkdir pdf_examples &amp;&amp; cd pdf_examples</span><br><span class="line">wget https://github.com/mozilla/pdf.js-sample-files/raw/master/helloworld.pdf</span><br><span class="line">wget http://www.africau.edu/images/default/sample.pdf –no-check-certificate</span><br><span class="line">wget https://www.melbpc.org.au/wp-content/uploads/2017/10/small-example-pdf-file.pdf</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/4da29f1e-5eb7-4be7-9cd1-a6a2574731bc" alt="image"> </p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/f485bf1a-6186-4faf-80fb-adeccd092781" alt="image"></p>
<p>测试pdfinfo二进制文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$HOME/fuzzing_xpdf/install/bin/pdfinfo -box -meta $HOME/fuzzing_xpdf/pdf_examples/helloworld.pdf</span><br></pre></td></tr></table></figure>

<p>看到如下页面说明验证成功</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/2e938476-a1bc-4a18-86d1-01103f16f5d3" alt="image"></p>
<h5 id="2、安装AFL"><a href="#2、安装AFL" class="headerlink" title="2、安装AFL++"></a>2、安装AFL++</h5><p>采用本地安装的方式，首先安装依赖项</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y build-essential python3-dev automake git flex bison libglib2.0-dev libpixman-1-dev python3-setuptools</span><br><span class="line">sudo apt-get install -y lld-11 llvm-11 llvm-11-dev clang-11 || sudo apt-get install -y lld llvm llvm-dev clang </span><br><span class="line">sudo apt-get install -y gcc-$(gcc --version|head -n1|sed &#x27;s/.* //&#x27;|sed &#x27;s/\..*//&#x27;)-plugin-dev libstdc++-$(gcc --version|head -n1|sed &#x27;s/.* //&#x27;|sed &#x27;s/\..*//&#x27;)-dev</span><br></pre></td></tr></table></figure>

<p>  <img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/73bc8916-fb98-4dd0-b1e3-8480fcfd1369" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/413b7ab7-7445-4ff2-bd39-cbe52f2169dc" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/5f632878-bdaf-44bf-b23f-17d1500051c5" alt="image"></p>
<p>构造AFL++</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd $HOME</span><br><span class="line">git clone https://github.com/AFLplusplus/AFLplusplus &amp;&amp; cd AFLplusplus</span><br><span class="line">export LLVM_CONFIG=&quot;llvm-config-11&quot;</span><br><span class="line">make distrib</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230726155938884.png" alt="image-20230726155938884"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/cbc90cfc-387c-426f-b1ee-423707515551" alt="image"></p>
<p>Docker image</p>
<p>安装docker，第一次安装后无法使用docker，使用snap重新下载后可以使用</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install docker</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/d945678c-160e-4ce9-a689-7057cf053058" alt="image">  </p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/aa42821f-0488-4422-a4a0-9beae001f319" alt="image"></p>
<p>Pull图像，要加上sudo以管理员身份运行，否则会报错connect: permission denied</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull aflplusplus/aflplusplus</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230726161946524.png" alt="image-20230726161946524"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/e6950c13-56f4-40cf-83b0-f63e1eb9c0b9" alt="image"></p>
<p>启动AFLPlusPlus docker容器</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -ti -v $HOME:/home aflplusplus/aflplusplus</span><br></pre></td></tr></table></figure>

<p>  再运行</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export $HOME=&quot;/home&quot;</span><br></pre></td></tr></table></figure>

<p>输入afl-fuzz运行afl-fuzz，出现下图说明运行成功</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/a94e5375-1782-466b-bbd4-9578eebd7d2a" alt="image"></p>
<h5 id="3、开始实验"><a href="#3、开始实验" class="headerlink" title="3、开始实验"></a>3、开始实验</h5><p>为了使我们的目标应用程序启用插装，我们需要使用AFL的编译器编译代码，首先，我们要清理所有之前编译过的目标文件和可执行文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rm -r $HOME/fuzzing_xpdf/install</span><br><span class="line">cd $HOME/fuzzing_xpdf/xpdf-3.02/</span><br><span class="line">make clean</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/c5ab56e8-e2f5-4539-923b-a60e81482d07" alt="image"></p>
<p>使用<strong>afl-clang-fast</strong>编译器构建xpdf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export LLVM_CONFIG=&quot;llvm-config-11&quot;</span><br><span class="line">CC=$HOME/AFLplusplus/afl-clang-fast CXX=$HOME/AFLplusplus/afl-clang-fast++ ./configure --prefix=&quot;$HOME/fuzzing_xpdf/install/&quot;</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/bf922cbb-a81a-4663-bb0f-d16f9fc88a3f" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/5e05cada-e79c-489c-a1c2-25a4d7ed6c3e" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/cc637caf-1fa9-49cd-a5bd-9273570ab123" alt="image"></p>
<p>每个选项的简要说明:</p>
<ul>
<li><em>-i</em> 表示我们必须放置输入大小写的目录(即文件示例)</li>
<li><em>-o</em> 表示afl++存储修改后文件的目录</li>
<li><em>-s</em> 表示使用静态随机种子</li>
<li><em>@@</em> 是AFL将用每个输入文件名替换的占位符目标的命令行</li>
</ul>
<p>fuzzer基本上会运行下面这个命令，用于每个不同的输入文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$HOME/fuzzing_xpdf/install/bin/pdftotext &lt;input-file-name&gt;</span><br><span class="line">$HOME/fuzzing_xpdf/output</span><br></pre></td></tr></table></figure>

<p>使用以下命令运行fuzzer，出现错误如下图</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">afl-fuzz -i $HOME/fuzzing_xpdf/pdf_examples/ -o $HOME/fuzzing_xpdf/out/ -s 123 -- $HOME/fuzzing_xpdf/install/bin/pdftotext @@ $HOME/fuzzing_xpdf/output</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/e66e4ddf-8c34-4d1f-912b-3c8151e1ed9d" alt="image"></p>
<p>如果收到消息“Hmm, your system is configured to send core dump notifications to an external utility…”，只要这样做</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br><span class="line">echo core &gt;/proc/sys/kernel/core_pattern</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/aede7a51-f888-4d7c-8777-e784d6341ae5" alt="image"></p>
<p>再运行fuzzer，几分钟后，可以看到如下页面</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/0d6f6b8b-8dc2-441f-b9c2-10c3a31d7e65" alt="image"></p>
<p>看到<strong>saved crashes</strong>的值，是崩溃的数量</p>
<p>可以在“$HOME&#x2F;fuzzing_xpdf&#x2F;out&#x2F;”目录中找到这些崩溃文件</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/6ed7ae67-a1e6-45d4-bf00-539ed92c879b" alt="image"></p>
<h5 id="4、调试和分类"><a href="#4、调试和分类" class="headerlink" title="4、调试和分类"></a>4、调试和分类</h5><p>通过调试和分类，来找到关于这个bug的信息</p>
<p>1)用指定的文件重现崩溃<br>        2)调试崩溃找出问题所在<br>        3)修复问题</p>
<p>在’ $HOME&#x2F;fuzzing_xpdf&#x2F;out&#x2F; ‘目录中找到与崩溃对应的文件。文件名类于“id:000000,sig:11,src:000526,time:534057,execs:257582,op:havoc,rep:8”</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/87332255-b9e6-4254-bfb5-1ce346fbadd0" alt="image"></p>
<p>将此文件作为输入传递给pdftotext二进制文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$HOME/fuzzing_xpdf/install/bin/pdftotext &#x27;$HOME/fuzzing_xpdf/out/default/crashes/&lt;your_filename&gt;&#x27; $HOME/fuzzing_xpdf/output</span><br></pre></td></tr></table></figure>

<p>它将导致分割错误，并导致程序崩溃</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/11e431fa-dc2d-44ca-b1ca-a7a4431714bc" alt="image"></p>
<p>使用gdb找出使用此输入导致程序崩溃的原因</p>
<p>GDB的简单入门（<a target="_blank" rel="noopener" href="http://people.cs.pitt.edu/~mosse/gdb-note.html%EF%BC%89">http://people.cs.pitt.edu/~mosse/gdb-note.html）</a></p>
<p>首先，使用调试信息重新构建Xpdf，以获得符号堆栈跟踪</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rm -r $HOME/fuzzing_xpdf/install</span><br><span class="line">cd $HOME/fuzzing_xpdf/xpdf-3.02/</span><br><span class="line">make clean</span><br><span class="line">CFLAGS=&quot;-g -O0&quot; CXXFLAGS=&quot;-g -O0&quot; ./configure --prefix=&quot;$HOME/fuzzing_xpdf/install/&quot;</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/deb41651-02b6-4aaf-8deb-78825b17ed00" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/4bd09b31-40d8-47cd-9fa0-24b13ac652c5" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/90712b71-de40-4af1-b142-0790b922d243" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/6864227f-65ec-4b87-bf5e-c23afee32d6e" alt="image"></p>
<p>运行GDB</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gdb --args $HOME/fuzzing_xpdf/install/bin/pdftotext $HOME/fuzzing_xpdf/out/default/crashes/id:000000,sig:11,src:000526,time:534057,execs:257582,op:havoc,rep:8 $HOME/fuzzing_xpdf/output</span><br><span class="line"></span><br><span class="line">&gt;&gt; run</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/7b528a75-eaf5-49d4-bab6-616bf839abc4" alt="image"></p>
<p>正常情况下可看到如下输出</p>
<p>看到<strong>Program received signal SIGSEGV, Segmentation fault</strong>，说明存在内存泄漏</p>
<p>报错位置是<strong>in _int_malloc (av&#x3D;av@entry&#x3D;0x7ffff7c63b80 <main_arena>, bytes&#x3D;bytes@entry&#x3D;4) at malloc.c:3545</strong>，glibc报了个错，显然是堆内存出了问题</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/cea8e247-8de8-49b4-9ee3-11ad70a00558" alt="image"></p>
<p>再输入bt获取回溯</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/3df75385-c961-46de-b88d-34597110861e" alt="image"></p>
<p>滚动调用堆栈，可以看到许多对“Parser::getObj”方法的调用，这些调用似乎表示无限递归。访问<a target="_blank" rel="noopener" href="https://www.cvedetails.com/cve/CVE-2019-13288/%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%8F%8F%E8%BF%B0%E4%BB%8EGDB%E8%8E%B7%E5%BE%97%E7%9A%84%E5%9B%9E%E6%BA%AF%E5%8C%B9%E9%85%8D%E3%80%82">https://www.cvedetails.com/cve/CVE-2019-13288/可以看到描述从GDB获得的回溯匹配。</a></p>
<p>执行流信息，分析一下可以看出调用过程是循环的，判断为无限循环漏洞</p>
<p>根据函数调用找到漏洞位置</p>
<p>从fuzzing_xpdf&#x2F;xpdf-3.02&#x2F;xpdf&#x2F;Parse.cc 94行的makeStream调用，一路跟着报错往下翻就会找到这个套娃</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/7ab80d57-b19b-4311-a2ed-cf7e0fa19acc" alt="image"></p>
<h5 id="5、修复问题"><a href="#5、修复问题" class="headerlink" title="5、修复问题"></a>5、修复问题</h5><p>方法</p>
<ol>
<li>修复后重建目标，并检查用例是否不再导致分段错误</li>
<li>安装错误已经修复的Xpdf 4.02，并检查分段错误是否消失</li>
</ol>
<p>我选择的是安装已修复的Xpdf 4.02，对比源代码，发现再Xpdf 4.02的文件Parse.cc中，加了个变量，记录循环次数，超过一定次数就结束进程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.xpdfreader.com/old/xpdf-4.02.tar.gz</span><br><span class="line">tar -xvzf xpdf-4.02.tar.gz </span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/e0b54856-a620-4a81-8bc4-999d8ea8710f" alt="image"></p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/54743110-a653-4192-90b2-c8b9b4975dfd" alt="image"></p>
<h4 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h4><p>通过这个实验，我了解了<strong>CVE-2019-13288</strong>漏洞，学习了**AFL++**，如何使用带有插装的afl编译器编译目标，如何启动afl++，如何检测目标崩溃。</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/0d6f6b8b-8dc2-441f-b9c2-10c3a31d7e65" alt="image"></p>
<p>界面信息介绍</p>
<p>process timing：执行时间信息</p>
<p>run time：运行总时间</p>
<p>last new find：距离最近一次发现新路径的时间</p>
<p>last saved crash：距离最近一次保存程序崩溃的时间</p>
<p>last saved hang：距离最近一次保存挂起的时间</p>
<p>overall results：</p>
<p>cycles done：运行的总周期数</p>
<p>corpus count：语料库计数</p>
<p>saved crashes：保存的程序崩溃个数</p>
<p>saved hang：保存的挂起个数</p>
<p>cycle progress：</p>
<p>now processing：当前的测试用例ID（所在输入队列的位置）</p>
<p>runs timed out：超时数量</p>
<p><strong>map coverage：</strong>覆盖率</p>
<p>map density：目前已经命中多少分支元组，与位图可以容纳多少的比例</p>
<p>count coverage：位图中每个被命中的字节平均改变的位数</p>
<p>stage progress：</p>
<p>now trying: 指明当前所用的变异输入的方法</p>
<p>stage execs: 当前阶段的进度指示</p>
<p>total execs: 全局的进度指示</p>
<p>exec speed: 执行速度</p>
<p><strong>findings in depth：</strong>种子变异产生的信息</p>
<p>favored items: 基于最小化算法产生新的更好的路径</p>
<p>new edges on: 基于更好路径产生的新边</p>
<p>total crashes: 基于更好路径产生的崩溃</p>
<p>total tmouts: 基于更好路径产生的超时 包括所有超时的超时</p>
<p>fuzzing strategy yields： 进一步展示了AFL所做的工作，在更有效路径上得到的结果比例，对应上面的now trying</p>
<p>bit flips: 比特位翻转，例如：</p>
<p>bitflip 1&#x2F;1，每次翻转1个bit，按照每1个bit的步长从头开始</p>
<p>bitflip 2&#x2F;1，每次翻转相邻的2个bit，按照每1个bit的步长从头开始</p>
<p>byte flips: 字节翻转</p>
<p>arithmetics: 算术运算，例如：</p>
<p>arith 16&#x2F;8，每次对16个bit进行加减运算，按照每8个bit的步长从头开始，即对文件的每个word进行整数加减变异</p>
<p>know ints: 用于替换的基本都是可能会造成溢出的数，例：</p>
<p>interest 16&#x2F;8，每次对16个bit进替换，按照每8个bit的步长从头开始，即对文件的每个word进行替换</p>
<p>dictionary: 有以下子阶段：</p>
<p>user extras (over)，从头开始，将用户提供的tokens依次替换到原文件中</p>
<p>user extras (insert)，从头开始，将用户提供的tokens依次插入到原文件中</p>
<p>auto extras (over)，从头开始，将自动检测的tokens依次替换到原文件中</p>
<p>其中，用户提供的tokens，是在词典文件中设置并通过-x选项指定的，如果没有则跳过相应的子阶段。</p>
<p>havoc：顾名思义，是充满了各种随机生成的变异，是对原文件的“大破坏”。具体来说，havoc包含了对原文件的多轮变异，每一轮都是将多种方式组合（stacked）而成</p>
<p>splice：在任意选择的中点将队列中的两个随机输入拼接在一起.</p>
<p>py&#x2F;custom&#x2F;req：</p>
<p>trim：修建测试用例使其更短，但保证裁剪后仍能达到相同的执行路径</p>
<p>eff</p>
<p>item geometry：</p>
<p>levels: 表示测试等级</p>
<p>pending: 表示还没有经过fuzzing的输入数量</p>
<p>pend fav: 表明fuzzer感兴趣的输入数量</p>
<p>own finds: 表示在fuzzing过程中新找到的，或者是并行测试从另一个实例导入的数量</p>
<p>imported: n&#x2F;a表明不可用，即没有导入</p>
<p>stability: 表明相同输入是否产生了相同的行为，一般结果都是100%</p>
<p>参考博客：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40025866/article/details/127823491">https://blog.csdn.net/qq_40025866/article/details/127823491</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/25/Exercise%201%20-%20Xpdf/" data-id="clkifzfiq00000wvf0xdk9v6i" data-title="Exercise 1 - Xpdf" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fuzzing/" rel="tag">Fuzzing</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-clash科学上网" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/24/clash%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" class="article-date">
  <time class="dt-published" datetime="2023-07-24T12:54:07.000Z" itemprop="datePublished">2023-07-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/24/clash%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">clash科学上网</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>登录clash官方网站</p>
<p><a target="_blank" rel="noopener" href="https://ikuuu.art/">https://ikuuu.art/</a></p>
<p>（网站可能会挂，按照提示访问新域名）</p>
<p>在左侧<strong>下载和教程</strong>中选择<strong>Linux使用教程</strong></p>
<p>1、在用户目录下创建clash文件夹</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir clash</span><br><span class="line">cd clash</span><br></pre></td></tr></table></figure>

<p>2、下载clash二进制文件并解压，重命名为clash，存放在clash目录下</p>
<p>下载链接：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/Dreamacro/clash/releases">Releases · Dreamacro&#x2F;clash (github.com)</a></p>
<p>我下载的是<strong>clash-linux-amd64-v3-v1.17.0.gz</strong></p>
<p>改名为clash.gz后解压为clash文件</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip -dv clash.gz</span><br></pre></td></tr></table></figure>

<p>3、执行如下命令，下载clash配置文件</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O config.yaml &quot;https://api.sub-200.club/link/k726BxGA2nMeyL8V?clash=3&quot;</span><br></pre></td></tr></table></figure>

<p>4、启动clash，同时启动HTTP代理和Socks5代理，注意先修改权限</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x clash</span><br><span class="line">./clash -d .</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/7b3f3f8b-2b2f-4e19-88c4-8652235a1787" alt="image"></p>
<p>5、访问<a target="_blank" rel="noopener" href="https://clash.razord.top/#/proxies">Clash (razord.top)</a>可以切换节点，测试延迟等操作</p>
<p><img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/7d6a0bd4-73fe-4f83-b06e-9d47b9e36f26" alt="image"></p>
<p>6、打开系统设置，选择网络，点击网络代理右边的设置按钮，选择手动，修改HTTP和HTTPS代理，如下图所示</p>
<p> <img src="https://github.com/dbqyw/qyw.github.io/assets/130265921/3f10d15b-3067-4930-b328-233400d24af2" alt="image"></p>
<p>可顺利访问外网</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/24/clash%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" data-id="clkgvhy580000jsvf8zuu2yhx" data-title="clash科学上网" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learn/" rel="tag">learn</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-《How to give a good research talk》" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/23/%E3%80%8AHow%20to%20give%20a%20good%20research%20talk%E3%80%8B/" class="article-date">
  <time class="dt-published" datetime="2023-07-23T05:53:32.000Z" itemprop="datePublished">2023-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/23/%E3%80%8AHow%20to%20give%20a%20good%20research%20talk%E3%80%8B/">《How to give a good research talk》</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="《How-to-give-a-good-research-talk》（Simon-L-Peyton-Jones）论文细读"><a href="#《How-to-give-a-good-research-talk》（Simon-L-Peyton-Jones）论文细读" class="headerlink" title="《How to give a good research talk》（Simon L Peyton Jones）论文细读"></a>《How to give a good research talk》（Simon L Peyton Jones）论文细读</h1><p><a href="extension://bfdogplmndidlpjfhoijckpakkdjkkil/pdf/viewer.html?file=https%3A%2F%2Fwww.microsoft.com%2Fen-us%2Fresearch%2Fwp-content%2Fuploads%2F2016%2F08%2Fgiving-a-talk.pdf">extension:&#x2F;&#x2F;bfdogplmndidlpjfhoijckpakkdjkkil&#x2F;pdf&#x2F;viewer.html?file&#x3D;https%3A%2F%2Fwww.microsoft.com%2Fen-us%2Fresearch%2Fwp-content%2Fuploads%2F2016%2F08%2Fgiving-a-talk.pdf</a></p>
<p>要做一个好的研究演讲，我们需要从论文中找出我们认为有用的东西。</p>
<p>我们演讲的对象大多是研究计算机领域的学者，他们可能不太了解我们所研究的特定领域，我们主要是将我们的经验讲出来，尽力使内容更生动。</p>
<p>在准备演讲的过程中，我们首先要明确两个问题</p>
<ul>
<li>我的主要听众是哪类人</li>
<li>我希望他们记住我演讲中的哪一部分</li>
</ul>
<p>明确了这两个问题后，我们可以以它作为标准来决定我们该详细说什么，省略什么。</p>
<p>大多数人做研究是方式是尝试解决一堆相关的问题，找到一些合适的框架来解决它们，然后对我们的解决方案进行归纳和抽象。比如说，问题是找出一个函数是否对其参数求值，那么合适的框架可能是指称语义，而泛化可能是抽象解释。如果在演讲时只展示框架和抽象，而忽略我们用来指导工作的示例，听众很难理解我们所展示的东西。因此我们在表达观点时，需要用例子来证明我们的观点，当我们给出一个属性的定义，一个数学结构或者是一些新的符号，我们需要举例子说明这个定义包含了什么，距离说明它在实践中的含义。在我们写论文时也要注意细节，正确陈述我们的观点，在准备演讲时要一遍遍问自己有没有用例子来说明这个想法&#x2F;定理&#x2F;定义&#x2F;技术&#x2F;算法。</p>
<p>由于我们的听众中肯定有部分人根本不知道我们分享的领域，因此我们得花一定时间对我们的研究领域进行介绍，但是要避免花太长的时间在介绍研究领域上，否则容易让听众感到厌烦，要直接用一个例子来说明我们要解决的问题，一般用一张PPT列出关于演讲主题的工作，或者对演讲内容进行抽象描述。</p>
<p>在演讲中，我们不能试图隐瞒我们遇到的困难，因为有些观众会发现这些困难，我们可以在演讲中提出这些困难，可能会有观众给我们提出有帮助的建议。</p>
<p>在一张PPT上，人们只能阅读并获取很少的信息，因此一张PPT上有六七个关键点就足够了。在做PPT时，我们要注意PPT不是用来反复强调我们打算说什么，而是应该把我们打算说的东西进行浓缩成关键点，口头进行介绍，而不只是读PPT。</p>
<p>在演讲开始时，要先放一张PPT，给出讲解的大纲，大概讲解一分钟，在演讲进行到三分之一时，要用一张幻灯片说这“这是我到目前为止讨论的内容，现在我将涵盖这些领域”，这样可以帮助我们的听众重新定位，便于他们理解，如果他们有问题可以直接问出来。</p>
<p>我们不要急着做PPT，要先花一两个星期仔细考虑我们要说什么，在演讲的前一天把PPT做好，这样的好处是，当我们在演讲时，PPT的内容在我们脑海中绝对有印象，我们把脑海中的想法讲出来就好。</p>
<p>在演讲前一定要尝试稳定的深呼吸和放松练习，尽量让自己平静下来，如果可以做到和观众进行眼神交流，就这样做，可以提升演讲的效果。</p>
<p>做PPT时我们尽量不要加动画，不同的内容最好放在不同的PPT上，而不是一行行展示要讲的内容。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/23/%E3%80%8AHow%20to%20give%20a%20good%20research%20talk%E3%80%8B/" data-id="clkf63uvi00009cvfgtl07vn5" data-title="《How to give a good research talk》" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BA%E6%96%87%E7%BB%86%E8%AF%BB/" rel="tag">论文细读</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-《SoK Practical Foundations for Software Spectre Defenses》" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/14/%E3%80%8ASoK%20Practical%20Foundations%20for%20Software%20Spectre%20Defenses%E3%80%8B/" class="article-date">
  <time class="dt-published" datetime="2023-07-14T11:12:41.000Z" itemprop="datePublished">2023-07-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/14/%E3%80%8ASoK%20Practical%20Foundations%20for%20Software%20Spectre%20Defenses%E3%80%8B/">《SoK Practical Foundations for Software Spectre Defenses》</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="《SoK-Practical-Foundations-for-Software-Spectre-Defenses》论文分享"><a href="#《SoK-Practical-Foundations-for-Software-Spectre-Defenses》论文分享" class="headerlink" title="《SoK Practical Foundations for Software Spectre Defenses》论文分享"></a>《SoK Practical Foundations for Software Spectre Defenses》论文分享</h1><p><a target="_blank" rel="noopener" href="https://www.computer.org/csdl/proceedings-article/sp/2022/131600b517/1FlQz5KjQZ2">https://www.computer.org/csdl/proceedings-article/sp/2022/131600b517/1FlQz5KjQZ2</a></p>
<p>Sok: 软件幽灵防御的实践基础</p>
<p>这篇文章主要是以语义的形式研究幽灵分析的现有基础，讨论语义的不同选择，并描述每种选择的权衡</p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>幽灵漏洞</p>
<p>幽灵是最近发现的一系列漏洞，源于现代处理器上的推测执行，幽灵允许攻击者通过导致处理器错误预测控制流，比如说条件跳转或间接调用，或数据流的目标来学习敏感信息。</p>
<p>攻击者可用跨越安全边界窃取机密，比如说由进程抽象提供的硬件边界，由内存安全语言和基于软件的故障隔离技术提供的软件边界。</p>
<p>当处理器意识到自己预测错误时，它会回滚执行，抹去推测对程序员可见的影响，但是在推测执行期间，微架构状态，比如说数据缓存的状态，仍然会被修改，这些变化可能会在推测期间泄露，甚至在回滚之后仍然可以持续，因此攻击者可以从微架构状态中恢复敏感信息，即使这些敏感信息只是随机访问。</p>
<h2 id="幽灵漏洞破解密码"><a href="#幽灵漏洞破解密码" class="headerlink" title="幽灵漏洞破解密码"></a>幽灵漏洞破解密码</h2><p>High-assurance cryptography （高保证密码学）长期依赖于constant_x0002_time programming（常量时间编程），用来创建不受定时侧信道攻击的安全软件。</p>
<p><strong>侧信道攻击</strong>是攻击者利用计算机不经意间释放出的信息信号，比如说电磁辐射，电脑硬件运行产生的声音，来进行破译的攻击模式，例如，黑客可以通过计算机显示屏或硬盘驱动器所产生的电磁辐射，来读取你所显示的画面和磁盘内的文件信息。</p>
<p>常量时间编程确保程序执行不依赖于密码</p>
<p>它是通过三条规则来保证这一点的：</p>
<ul>
<li>控制流（如条件分支）不应该依赖密码</li>
<li>内存访问模式（如进入数组的偏移量）不应该依赖密码</li>
<li>密码不应该被用作可变延迟指令的操作数（如浮点指令或许多处理器上的整数除法的操作数）</li>
</ul>
<p>这些规则确保机密信息在攻击者强大到足以执行缓存攻击、通过分支预测器状态泄露数据或通过端口争用来窥探数据时仍然安全</p>
<p>但是对于幽灵漏洞，常量时间编程不足以保证数据安全</p>
<p>这是一段易受幽灵攻击的代码</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723173959657.png" alt="image-20230723173959657"></p>
<p>如果数组arrA只包含公共数据，并且i和arrAlen也是公共数据，那么这段代码符合常数时间编程，但是攻击者可以利用分支错误预测，通过数据缓存泄露得到秘密数据</p>
<p>攻击者首先用适当小的i值重复运行代码，从而使分支预估调节i&lt;arrAlen为真，然后攻击者为i提供一个越界值，处理器判断条件仍为真，并推测地将越界数据加载到x中，随后它将x值作为内存读取操作地址的一部分，再将x的值编码到数据缓存状态中，根据x的值，不同的缓存行将被访问和缓存，一旦处理器发现了预测错误，就会回滚执行，但是数据缓存状态仍然存在，攻击者可以在以后释放数据缓存状态，以便推断x的值</p>
<p>这段代码，攻击者可通过控制流泄露秘密数据</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723174018733.png" alt="image-20230723174018733"></p>
<p>x作为分支条件的一部分，攻击者可以随机将任意内存读取到x中，然后他们可以通过几种方式泄露x的值，比如说根据各种情况的不同执行时间，通过数据缓存，基于在各种情况下执行的不同内存访问，通过端口竞争，分支预测器状态</p>
<h2 id="使用幽灵打破软件隔离"><a href="#使用幽灵打破软件隔离" class="headerlink" title="使用幽灵打破软件隔离"></a>使用幽灵打破软件隔离</h2><p>幽灵攻击破坏了软件隔离领域的重要保障，在软件隔离领域内，主机应用程序执行不受信任的代码时，确保不受信任的代码无法访问主机的任何数据，但是幽灵攻击可以破坏内存安全和隔离机制</p>
<p>这张图就是一个幽灵攻击破坏软件隔离的例子</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723174109210.png" alt="image-20230723174109210"></p>
<p>在该代码中，攻击者使用函数guest_func()调用宿主函数get_host_val()从数组中获取值</p>
<p>虽然get_host_val()实现了边界检查，但是攻击者仍然可以通过误操作分支预测其来随机性地访问越界数据，从而破坏隔离保证，一旦攻击者获得了他们选择的越界值，他们可以泄露该值，比如说通过数据缓存。我们需要确保，即使是随机性的，不受信任的代码也不能打破隔离</p>
<h2 id="语义学的选择"><a href="#语义学的选择" class="headerlink" title="语义学的选择"></a>语义学的选择</h2><p>精心设计幽灵分析工具的基础是精心构造的形式化语义，因此语义学的选择是非常重要的</p>
<p>加密代码需要不同的安全属性，因此需要不同的语义和工具</p>
<p>实用语义应该在细节和抽象之间做出适当的权衡：</p>
<ul>
<li>它应该足够详细，以捕捉我们感兴趣的微架构行为</li>
<li>它应该足够抽象，以适用于所有合理的硬件，因为我们不希望我们代码的安全性依赖于特定的缓存替换策略或分支预测器的实现</li>
</ul>
<h3 id="A-泄露模型"><a href="#A-泄露模型" class="headerlink" title="A 泄露模型"></a>A 泄露模型</h3><p>泄露模型指攻击者可以观察到什么信息</p>
<p>任何意图建模侧信道攻击的语义都需要精确定义其攻击者的模型，泄露模型是一个语义攻击者模型的重要部分</p>
<h3 id="B-保密策略"><a href="#B-保密策略" class="headerlink" title="B 保密策略"></a>B 保密策略</h3><p>确定了泄露模型，我们要确定用什么保密策略，即那些值可以泄露，哪些值不能泄露</p>
<p>密码学和隔离等领域已经定义了顺序安全属性的策略</p>
<p>对于密码学，包含秘密数据的内存被认为是敏感的，比如说加密密钥的内存</p>
<p>隔离是声明程序指定的沙盒区域之外的所有内存都不应该被泄露</p>
<p>沙盒是一种安全机制，为运行中的程序提供隔离环境，提供作为一些来源不可信，具有破坏力或无法判定程序意图的程序使用，沙盒可以提供用后即收回的磁盘及内存空间</p>
<h3 id="C-执行模型"><a href="#C-执行模型" class="headerlink" title="C 执行模型"></a>C 执行模型</h3><p>为了推断幽灵攻击，语义必须能够推断推测执行模型中敏感数据的泄露，推测执行模型是推测语义与标准顺序分析的区别，并决定抽象处理器可以执行什么推测，对于开发人员来说，需要权衡选择一个合适的推测执行模型</p>
<ul>
<li>要选择他们模型允许的行为，比如说它们包含哪些微架构预测器，这决定了它们的工具可以捕获哪些幽灵变体</li>
<li>如果可以执行的推测过多，会使它们的分析更加复杂</li>
</ul>
<h3 id="D-非确定性"><a href="#D-非确定性" class="headerlink" title="D 非确定性"></a>D 非确定性</h3><p>推测执行本质上是具有不确定性的，程序中的任何给定的分支都可能正确或错误地进行，而不管实际的条件值，也就是说推测性劫持攻击可以将执行发送到完全不确定的位置</p>
<p>现有的语义都假设攻击者对微架构预测和调度有完全的控制</p>
<p>限制非确定性：</p>
<p>目前已有研究人员实现用编译器完全重构程序，在软件层加强它们自己的限制行为集，将敏感数据分配到单独的内存区域中，并使用页面权限位来禁止不受信任的代码访问这些区域，无论程序如何推测错误，它都读取不了敏感数据</p>
<h3 id="E-高级别的抽象"><a href="#E-高级别的抽象" class="headerlink" title="E 高级别的抽象"></a>E 高级别的抽象</h3><p>幽灵攻击和推测执行从根本上打破了我们对程序应该如何执行的直觉假设，关于程序的高级别的保证不再适用</p>
<p>为了重建更高级别的安全保障，我们首先需要修复我们程序如何执行的模型，从低级语义开始，一旦这些基础牢固地建立了起来，我们才能重建更高级别的抽象</p>
<p>有了足够的基础，我们可以通过修改高级语言的编译器，产生安全的低级程序来恢复高级抽象</p>
<h3 id="F-表现力"><a href="#F-表现力" class="headerlink" title="F 表现力"></a>F 表现力</h3><p>一个好的实用的语义需要有足够强的表达性，我们想要一个能够表达的语义对广泛的可能行为进行建模，比如说幽灵变体</p>
<p>另外，允许太多可能行为的语义会使很多分析变得难以处理</p>
<p>而语义的基本目的是提供硬件的合理抽象或简化，来简化分析，因此语义中包含多少表现力也需要认真权衡</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>推测分析的坚实基础需要对语义和攻击者模型进行适当的选择，开发人员需要考虑较强的泄露模型，那些只通过内存或数据缓存来捕获泄露的泄露模型会导致安全性保证更弱</p>
<p>其次必须考虑所有的幽灵变体，这会增加分析的复杂性，但是开发人员可以将分析与结构化编译技术结合，通过构造来限制或删除幽灵攻击的整个类别</p>
<p>最后，我们建议不要对不必要的架构细节进行建模，比如说对缓存结构或端口争用这种细节进行建模，复杂性更高，并且会降低移植性</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/14/%E3%80%8ASoK%20Practical%20Foundations%20for%20Software%20Spectre%20Defenses%E3%80%8B/" data-id="clkf9anc20000v4vf0k2wdu9d" data-title="《SoK Practical Foundations for Software Spectre Defenses》" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BA%E6%96%87%E7%BB%86%E8%AF%BB/" rel="tag">论文细读</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-《Beyond Phish Toward Detecting Fraudulent e-Commerce Websites at Scale》" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/13/%E3%80%8ABeyond%20Phish%20Toward%20Detecting%20Fraudulent%20e-Commerce%20Websites%20at%20Scale%E3%80%8B/" class="article-date">
  <time class="dt-published" datetime="2023-07-13T10:22:12.000Z" itemprop="datePublished">2023-07-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/13/%E3%80%8ABeyond%20Phish%20Toward%20Detecting%20Fraudulent%20e-Commerce%20Websites%20at%20Scale%E3%80%8B/">论文分享</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="《BEYOND-PHISH-Toward-Detecting-Fraudulent-e-Commerce-Websites-at-Scale》论文分享"><a href="#《BEYOND-PHISH-Toward-Detecting-Fraudulent-e-Commerce-Websites-at-Scale》论文分享" class="headerlink" title="《BEYOND PHISH: Toward Detecting Fraudulent e-Commerce Websites at Scale》论文分享"></a>《BEYOND PHISH: Toward Detecting Fraudulent e-Commerce Websites at Scale》论文分享</h1><p><a target="_blank" rel="noopener" href="https://www.computer.org/csdl/proceedings-article/sp/2023/933600c566/1NrbZYi2YjC">https://www.computer.org/csdl/proceedings-article/sp/2023/933600c566/1NrbZYi2YjC</a></p>
<p>BEYOND PHISH：大规模检测欺诈性电子商务网站</p>
<p>PEYOND PHISH是一个用来大规模检测欺诈性电子商务网站的模型</p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>首先看它的背景，尽管最近在恶意网站检测和网络钓鱼方面取得了进展，但是安全生态系统很少关注欺诈性电子商务网站(FCWs)，例如欺诈性购物网站，虚假慈善机构网站。这张图是在线虚假购物网站造成的每季度的货币损失总额（单位：百万），仅在2021年的第一个季度，货币损失就超过了一亿美元。</p>
<p> <img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723172709727.png" alt="image-20230723172709727"></p>
<h2 id="欺诈性电子商务网站和网络钓鱼攻击的区别"><a href="#欺诈性电子商务网站和网络钓鱼攻击的区别" class="headerlink" title="欺诈性电子商务网站和网络钓鱼攻击的区别"></a>欺诈性电子商务网站和网络钓鱼攻击的区别</h2><p>欺诈性电子商务网站和网络钓鱼攻击的区别在于攻击者的目标</p>
<p>网络钓鱼的攻击目标是窃取用户的密码和社会保险号等信息</p>
<p>欺诈性电子商务网站的攻击目标是引诱用户为不可能收到的商品或服务花钱</p>
<h2 id="主流的网络钓鱼防御并不适用于Fcws"><a href="#主流的网络钓鱼防御并不适用于Fcws" class="headerlink" title="主流的网络钓鱼防御并不适用于Fcws"></a>主流的网络钓鱼防御并不适用于Fcws</h2><p>主流的网络浏览器已经结合了客户端启发式反网络钓鱼和服务器端黑名单来检测钓鱼网站，但是现有的网络钓鱼防御并不适用于Fcws。比如说反网络钓鱼的Google安全浏览在我们收集的Fcws数据集上检测率仅为0.46%</p>
<h2 id="目前没有可用的Fcws公开数据集"><a href="#目前没有可用的Fcws公开数据集" class="headerlink" title="目前没有可用的Fcws公开数据集"></a>目前没有可用的Fcws公开数据集</h2><h2 id="收集Fcws数据集面临的挑战"><a href="#收集Fcws数据集面临的挑战" class="headerlink" title="收集Fcws数据集面临的挑战"></a>收集Fcws数据集面临的挑战</h2><ul>
<li>这些网站很快就会消失</li>
<li>Fcws并不局限于电子邮件等单一传播渠道</li>
<li>并且它的内容在检测中起着重要作用，采用盲目网络爬行等方法可能会导致Fcws的内容不适用于检测研究</li>
<li>数据必须包含实际的Fcws，需要手动验证每个Fcws</li>
<li>Fcws在不断发展，如以前的Fcws使用极低的价格来吸引顾客，现在的Fcws给出合理的价格，这个操作可能是让顾客更难分辨欺诈电子商务网站与合法网站之间的区别</li>
</ul>
<p>左图是合法的crypto网站，右图是欺诈性的crypto网站，光看外表根本看不出哪个是非法的</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723173128562.png" alt="image-20230723173128562"></p>
<h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>这是该项目需要解决的三个问题</p>
<ul>
<li>如何让收集和标记一个全面的数据集来研究Fcws的特征</li>
<li>当前防御系统在保护用户免受Fcws攻击方面的有效性怎么样</li>
<li>我们如何利用Fcws的特征来进行大规模检测</li>
</ul>
<h2 id="收集和标注"><a href="#收集和标注" class="headerlink" title="收集和标注"></a>收集和标注</h2><p>这张图是Fcsw数据集收集和标注的过程图</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723173249718.png" alt="image-20230723173249718"></p>
<p>首先是Fcws数据集收集部分</p>
<p>reddit论坛是一个专门讨论诈骗网站的论坛，上面的每个帖子和评论都由reddit版主严格监控，可认为内容是可信的。我们在该论坛收集可能的Fcws，在该论坛中，收集了33514个关于诈骗网站的数据，其中有9114个包含实时url。</p>
<p>数据标注：</p>
<p>从9114个url中标记实际的诈骗网站url是非常关键的，我们通过分析用户对每个url的评价进行自动化标记。再手动检查诈骗帖子后，我们发现可以通过用户评论来了解可疑url的合法性，如果url属于诈骗网站，用户会评论不要购买或常见骗局，我们使用自然语言处理模型BERT进行训练，BERT是一种语言模型，用于执行各种自然语言处理的任务，比如说文本生成、情感分析和问题回答，该模型将评论分类为积极或消极。我们在BERT模型上使用了一个神经网络分类器，首先将每个评论转换为上下文向量，其中包含关于评论的重要信息，然后使用神经网络分类器将上下文向量标记为积极或消极。在训练模型时，使用Stanford Sentiment Treebank二元分类数据集（这个数据集包含215154个短语以及正负标签），为了对每个URL进行分类和分配标签，我们首先对提交的每个评论进行分类，如果负面评论多于正面评论，我们将提交的URL标记为诈骗网站。</p>
<p>这是一个标注的例子，常见的骗局，忽略并继续前进，不要这样做这种就标为负面评论，质量很好这种就标为正面评论，这个URL的负面评论多余正面评论，因此标记为诈骗网站。</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723173329016.png" alt="image-20230723173329016"></p>
<h2 id="分类模型验证"><a href="#分类模型验证" class="headerlink" title="分类模型验证"></a>分类模型验证</h2><p>为了验证我们分类模型的有效性，我们设计了两个实验进行验证</p>
<p>1是与Palo Alot Network合作，针对现实世界的数据集测试我们的模型，误检率为2.46%，检测率为94.88%</p>
<p>2是在数据集中随机选择了2000个网站，并聘请了三位安全专家，通过与网站互动、阅读reddit帖子和使用搜索引擎检测网站的合法性，使用投票制来标注URL，最终误检率为1.98%，漏检率为1.63%</p>
<p>在标注过程中，专家不允许讨论他们的评估，并且每个专家都独立调查每个网站的特征，评估相关的Reddit帖子，并进行网络搜索，以保证评估的准确性。如果专家无法做出判断，就标记为未知，最终将未知标签多的样本从数据集中删除。</p>
<h2 id="Fcws的特征"><a href="#Fcws的特征" class="headerlink" title="Fcws的特征"></a>Fcws的特征</h2><p>有了数据集以后，手动检查他们，来寻找能将Fcws与合法网站区分开来的特征</p>
<p>1、基于内容的特征：</p>
<p>是指基于网站源代码的，不法分子会模仿合法网站，加入社交媒体的标识或链接，比如twitter，但是这些链接大多无效，我们认为Fcws不包含有效的社交媒体链接的原因是避免他们的身份被受害者暴露并在社交媒体上分享</p>
<p>2.、基于dns的特征：</p>
<p>不法分子被列入黑名单或者被举报之后，通常会选择用新的域名，因此，Fcws的注册日期通常很新，平均年龄为2年，而合法网站为13年，且域名的注册时间越长，成本越高，因此大多数Fcws只注册了一年</p>
<p>3、基于url的特征：</p>
<p>28.21%的Fcws为了节约成本，采用廉价等级域名，如xyz，store，我们根据域名注册的平均价格，采用50个最便宜的顶级域名构建一个二元特征，表明url是否使用廉价顶级域名</p>
<p>4、基于社交媒体的特征：</p>
<p>Fcws试图模仿合法网站，在网站中加入了社交媒体链接，因此检查相应的社交媒体账户可信度非常重要，我们通过抓取facebook和twitter账户的创建日期来计算它们的年龄。账户可信度的另一个判断依据是账户关注者的数量。</p>
<h2 id="BEYOND-PHISH模型建立"><a href="#BEYOND-PHISH模型建立" class="headerlink" title="BEYOND PHISH模型建立"></a>BEYOND PHISH模型建立</h2><p>在了解了Fcws的共同特性后，我们基于识别出的共同特征，建立模型BEYOND PHISH，用于检测Fcws</p>
<p>我们根据对收集到的数据集的分析手动定义特征，通过利用网站内容，DNS记录，URL及其社交媒体的功能，创建BEYOND PHISH模型</p>
<p>这个图是模型训练的过程</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723173412838.png" alt="image-20230723173412838"></p>
<p>数据集（dataset）通过特征提取模块传递，该模块利用基于内容的特性、基于DNS的特性、基于URL的特性和基于社交媒体的特性进行链接，为每个URL输出一个特征向量，进行学习得到一个可以将Fcws和合法网站分开的分类器，经过分类器将url分为合法和非法的</p>
<h2 id="BEYOND-PHISH模型评估"><a href="#BEYOND-PHISH模型评估" class="headerlink" title="BEYOND PHISH模型评估"></a>BEYOND PHISH模型评估</h2><p>采用了4个其他的模型与BEYOND PHISH模型进行对比</p>
<p><strong>CheckPhish</strong>是一种使用计算机视觉和自然语言处理技术检测网络钓鱼和欺诈性网站的方法，该方法使用卷积神经网络对网站的外观进行分析，并从网页源代码中提取不同的特征与其视觉特征进行拼接</p>
<p><strong>HAN</strong>是基于内容检测欺诈性电子商务网站。但是我们没有访问HAN原始实现的权限，我们构建了一个类似的模型，基于网页源代码检测Fcws</p>
<p>**Cantina+**是基于内容的机器学习分类器，可以基于页面，url和域名的特征检测钓鱼网站，因为它仅仅是针对钓鱼网站的检测，有局限性，为保证公平，我们用收集的训练集训练了Cantina+</p>
<p><strong>RealTime</strong>是利用网站内容进行分类，检测虚假购物网站</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>如图是比较的结果，横坐标是误检率，纵坐标是检测率。</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230723173500716.png" alt="image-20230723173500716"></p>
<p>AUC是曲线下方的面积</p>
<p>最终结果中，BEYOND PHISH的检测率为94.88%，误检率为2.46%，与其他相比具有较大优势。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/13/%E3%80%8ABeyond%20Phish%20Toward%20Detecting%20Fraudulent%20e-Commerce%20Websites%20at%20Scale%E3%80%8B/" data-id="clkfcv2as00000svf3o1r1tdm" data-title="论文分享" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BA%E6%96%87%E7%BB%86%E8%AF%BB/" rel="tag">论文细读</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Fuzzing-exercise2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/09/Fuzzing-exercise2/" class="article-date">
  <time class="dt-published" datetime="2023-07-09T15:21:42.000Z" itemprop="datePublished">2023-07-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/09/Fuzzing-exercise2/">Fuzzing exercise2</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Fuzzing-exercise-2"><a href="#Fuzzing-exercise-2" class="headerlink" title="Fuzzing exercise 2"></a>Fuzzing exercise 2</h1><h2 id="环境准备-Ubuntu-20-04-2-LTS"><a href="#环境准备-Ubuntu-20-04-2-LTS" class="headerlink" title="环境准备 Ubuntu 20.04.2 LTS"></a>环境准备 Ubuntu 20.04.2 LTS</h2><p>username: fuzz</p>
<p>password: fuzz

<h2 id="下载并构建目标"><a href="#下载并构建目标" class="headerlink" title="下载并构建目标"></a>下载并构建目标</h2><p>在得到模糊目标前为模糊项目创建一个目录</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709213823034.png" alt="image-20230709213823034"></p>
<p>下载libxif压缩包并进行解压</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709214557514.png" alt="image-20230709214557514"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709214615468.png" alt="image-20230709214615468"></p>
<p>构建并安装libxif</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709214744249.png" alt="image-20230709214744249"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709214811146.png" alt="image-20230709214811146"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709214839197.png" alt="image-20230709214839197"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709214901711.png" alt="image-20230709214901711"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709214925242.png" alt="image-20230709214925242"></p>
<h2 id="选择一个接口应用程序"><a href="#选择一个接口应用程序" class="headerlink" title="选择一个接口应用程序"></a>选择一个接口应用程序</h2><p>libexif是一个库，用另一个应用程序来使用这个库，这个应用程序将被模糊化。</p>
<p>使用<strong>exif命令行</strong>。输入以下命令下载并解压缩exif命令行0.6.15</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709215144197.png" alt="image-20230709215144197"></p>
<p>构建并安装exif命令行实用程序</p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709215229927.png" alt="image-20230709215229927"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709215301307.png" alt="image-20230709215301307"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709215329280.png" alt="image-20230709215329280"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709215454122.png" alt="image-20230709215454122"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709215525683.png" alt="image-20230709215525683"></p>
<p><img src="C:\Users\15646\AppData\Roaming\Typora\typora-user-images\image-20230709215535552.png" alt="image-20230709215535552"></p>
<h3 id="在此处出现问题，还在解决中"><a href="#在此处出现问题，还在解决中" class="headerlink" title="在此处出现问题，还在解决中"></a>在此处出现问题，还在解决中</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/09/Fuzzing-exercise2/" data-id="cljwast9a000100vfej0ubv27" data-title="Fuzzing exercise2" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fuzzing/" rel="tag">Fuzzing</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Fuzzing-exercise1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/08/Fuzzing-exercise1/" class="article-date">
  <time class="dt-published" datetime="2023-07-08T14:20:29.000Z" itemprop="datePublished">2023-07-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/08/Fuzzing-exercise1/">Fuzzing exercise1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Fuzzing-exercise1"><a href="#Fuzzing-exercise1" class="headerlink" title="Fuzzing exercise1"></a>Fuzzing exercise1</h1><h2 id="环境准备-Ubuntu-20-04-2-LTS"><a href="#环境准备-Ubuntu-20-04-2-LTS" class="headerlink" title="环境准备 Ubuntu 20.04.2 LTS"></a>环境准备 Ubuntu 20.04.2 LTS</h2><p>username: fuzz</p>
<p>password: fuzz</p>
下载并构建目标
<p>首先得到模糊目标。为要模糊化的项目创建一个新目录</p>
<img width="317" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/d948710c-406b-4972-a182-d657efcf1d4e">
<p>安装一些额外的工具(make和gcc)，使环境完全准备好</p>
<p>首先要更新apt</p>
<p><img width="337" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/15e9567e-b482-4d1e-bf79-cfd581e3d76a"></p>
<p><img width="347" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/ee66a031-3b16-4129-8804-d1e0b72d1c70"></p>
<p>下载Xpdf 3.02并解压</p>
<p><img width="363" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/80d747b9-4574-4f52-8d98-3236bc36e0b6"></p>
<p><img width="331" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/73185429-6879-4656-861f-2bcf2ffd202c"></p>
<p>构建Xpdf</p>
<p><img width="361" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/39cce4fe-dde6-4304-9a28-fbde1e4fbb73"></p>
<p><img width="363" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/8510a266-ce8d-450d-9eea-b5535d803fd4"></p>
<p><img width="261" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/d17eb6d0-c211-4fdb-9172-ef5a484eda6f"></p>
<p><img width="297" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/25698387-3fe4-4d5e-9ebe-93a4423755fe"></p>
<p>下载一些PDF来测试构建是否成功</p>
<p><img width="359" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/63f75383-8647-430a-8b94-735832b90b8e"></p>
<p><img width="366" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/7b3b8e29-3f1f-4456-a297-ab3582a0e9da"></p>
<p>开始测试</p>
<p><img width="365" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/e272064c-14c6-4521-bc84-603e9de43a44"></p>
<p><img width="359" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/ffb59f24-fbe8-43a6-8b67-f43345a99416"></p>
安装AFL++
安装依赖项
<p><img width="415" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/bf47ee30-275e-46a5-8ae2-40e64e5c2768"></p>
<p><img width="369" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/6c4ef3ea-cdd9-4520-81f5-77c3b2701fea"></p>
<p><img width="362" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/27ed4844-df74-42cc-9b6b-d7c7fe99bbe9"></p>
构建AFL++
<p><img width="367" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/d7b85617-91b2-41a2-80e1-d15ba0a10d85"></p>
<p><img width="367" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/d7b85617-91b2-41a2-80e1-d15ba0a10d85"></p>
<p><img width="242" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/4c66183c-34bb-46ee-b008-e1b1ce70b535"></p>
<p><img width="361" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/233e6290-8b6e-42ff-8722-3debcb2889eb"></p>
<p><img width="416" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/f1b66699-a192-43f6-a954-e7716a33f920"></p>
<p><img width="272" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/b0ef1543-f015-487d-9f51-011395fafa21"></p>
<p>afl-fuzz查看是否安装成功</p>
<p><img width="379" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/28d2f364-f8b7-4319-aec9-8f7a13423e9e"></p>
<p>安装docker</p>
<p><img width="298" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/f7feaa09-caa0-4da7-970f-75373de2a56b"></p>
<p><img width="298" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/28fb0207-4cd5-473c-a64e-277ad8745eb0">
</p>
<p><img width="321" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/4def31b5-ed07-4b65-900e-58e9ebf9ed77">
</p>
<p>afl-fuzz查看是否安装成功</p>
<p><img width="379" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/5575e9e7-6282-4e65-a0d4-25573c60cdaa">
</p>
# 认识AFL++
<p>AFL是一个覆盖引导的模糊器，这意味着它收集每个突变输入的覆盖信息，以便发现新的执行路径和潜在的错误。当源代码可用时，AFL可以使用插装，在每个基本块(函数、循环等)的开头插入函数调用</p>
<p>要为我们的目标应用程序启用插装，我们需要使用AFL的编译器编译代码</p>
<p>首先，我们要清理所有之前编译过的目标文件和可执行文件</p>
<p><img width="336" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/1c27508c-20a1-468d-81e1-84673a408943">
</p>
<p>现在使用**afl-clang-fast**编译器构建xpdf</p>
<p><img width="415" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/697cbd2a-6f5d-4e6b-9eb7-a4e8f0c2205a">
</p>
<p><img width="253" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/c9b7bc7b-9fca-40dc-b137-3f6ceab1fdb9">
</p>
<p><img width="296" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/cf31c080-8204-427b-bdbf-ecf6ba8f2a00">
</p>
<p>运行fuzzer</p>
<p><img width="416" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/3dfb2666-b95a-44f3-9674-18502107b67b">
</p>
<p>每个选项的简要说明:</p>
<p>- *-i*表示我们必须放置输入大小写的目录(即文件示例)</p>
<p>- *-o*表示afl++存储修改后文件的目录</p>
<p>- *-s*表示使用静态随机种子</p>
<p>*@@*是AFL将用每个输入文件名替换的占位符目标的命令行</p>
<p>基本上，fuzzer会运行这个命令</p>
<p>$HOME/fuzzing_xpdf/install/bin/pdftotext <input-file-name> $HOME/fuzzing_xpdf/output '用于每个不同的输入文件。</p>
<p>由于收到消息 [-] Hmm...，进行如下操作</p>
<p><img width="415" alt="image" src="https://github.com/dbqyw/qyw.github.io/assets/130265921/fe83182b-385c-4ce6-9716-26cfefe63f32">
</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/08/Fuzzing-exercise1/" data-id="cljwast91000000vf8w3mf34k" data-title="Fuzzing exercise1" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fuzzing/" rel="tag">Fuzzing</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-读后感" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/07/%E8%AF%BB%E5%90%8E%E6%84%9F/" class="article-date">
  <time class="dt-published" datetime="2023-07-07T07:53:23.000Z" itemprop="datePublished">2023-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/07/07/%E8%AF%BB%E5%90%8E%E6%84%9F/">读后感</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="《So-you-want-to-work-in-security-and-for-some-reason-ended-up-here-rather-than-reading-other-people’s-posts-on-the-topic-》读后感"><a href="#《So-you-want-to-work-in-security-and-for-some-reason-ended-up-here-rather-than-reading-other-people’s-posts-on-the-topic-》读后感" class="headerlink" title="《So you want to work in security? (and for some reason ended up here rather than reading other people’s posts on the topic)》读后感"></a>《So you want to work in security? (and for some reason ended up here rather than reading other people’s posts on the topic)》读后感</h1><p><a target="_blank" rel="noopener" href="http://ifsec.blogspot.jp/2018/02/so-you-want-to-work-in-security-and-for.html">http://ifsec.blogspot.jp/2018/02/so-you-want-to-work-in-security-and-for.html</a></p>
<p>  当我们希望从事安全行业的工作之前，我们要意识到安全首先是一种爱好，然后才能成为一份工作。随着科学技术的发展，安全的入门难度越来越高，但是可用的学习资源也越来越多。我们需要自己学习，而不是遵循预设的课程学习，那样我们才能在安全的道路上越走越远。</p>
<p>  当我们试图从网上获取安全的学习资源，我们不能简单地用“如何破解…”这类语句进行搜索，而应该尝试问一些微妙的问题，比如说这个软件&#x2F;硬件是如何工作的，基于什么技术，是否开源，有无源代码，是否有人已经设法破解了这个软件&#x2F;硬件，有没有发表文章等。我们必须要有非常好的技术，才能真正了解软件&#x2F;硬件的工作原理，这并不简单，因此当我们遇到不理解的事情时，要把它想作我们需要学习的部分，不要轻易放弃。</p>
<p>  使用推特也是获取安全学习资源的好方法，很多安全社区会使用推特来分享新闻，最近的研究，漏洞等，我们可以在推特上找我们感兴趣的安全社区，看他们的推文。我们还能通过查看安全会议演示文稿和录用来进行学习。</p>
<p>  另外，我们可以通过打CTF来进行学习，提升自己的安全技术，在CTF挑战中我们会遇到各种困难，我们可以先从难度较低的入手，循序渐进，在解决问题的过程中不断学习新的知识。</p>
<p>  在研究漏洞时，我们可能会碰到进行很多次尝试而没有收获的情况，我们需要在失败的基础上了解失败的原因，进而思考新的方案，要不断学习新的事物。</p>
<p>  安全的研究是非常具有挑战性的，我们要足够热爱安全这个工作。在研究的过程中，我们需要不断尝试各种方法来解决问题，这个过程可能会让我们非常沮丧，但是当我们有所成功时，便会有很大的成就感。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/07/%E8%AF%BB%E5%90%8E%E6%84%9F/" data-id="cljwamsut0000l8vf94wg305s" data-title="读后感" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/security/" rel="tag">security</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fuzzing/" rel="tag">Fuzzing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learn/" rel="tag">learn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/" rel="tag">security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BA%E6%96%87%E7%BB%86%E8%AF%BB/" rel="tag">论文细读</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Fuzzing/" style="font-size: 15px;">Fuzzing</a> <a href="/tags/learn/" style="font-size: 10px;">learn</a> <a href="/tags/security/" style="font-size: 10px;">security</a> <a href="/tags/%E8%AE%BA%E6%96%87%E7%BB%86%E8%AF%BB/" style="font-size: 20px;">论文细读</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/07/26/%E3%80%8AThe%20structure%20of%20paper%20or%20report%20in%20Systems%E3%80%8B/">《The structure of paper/report in Systems》</a>
          </li>
        
          <li>
            <a href="/2023/07/25/Exercise%201%20-%20Xpdf/">Exercise 1 - Xpdf</a>
          </li>
        
          <li>
            <a href="/2023/07/24/clash%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">clash科学上网</a>
          </li>
        
          <li>
            <a href="/2023/07/23/%E3%80%8AHow%20to%20give%20a%20good%20research%20talk%E3%80%8B/">《How to give a good research talk》</a>
          </li>
        
          <li>
            <a href="/2023/07/14/%E3%80%8ASoK%20Practical%20Foundations%20for%20Software%20Spectre%20Defenses%E3%80%8B/">《SoK Practical Foundations for Software Spectre Defenses》</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>